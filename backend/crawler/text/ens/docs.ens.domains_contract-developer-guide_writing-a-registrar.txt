





Writing a Registrar - ENS Documentation









ENS DocumentationTechnical DocumentationHomeTechnical DocsGovernance DocsSearch…⌃KLinksTechnical DocumentationIntroductionTerminologyFrequently Asked QuestionsENS DeploymentsRegistrar Frequently Asked QuestionsDeploying ENS on a Private ChainDNS Registrar guideBug Bounty ProgramENS Improvement ProposalsDapp Developer GuideENS Enabling your DAppENS LibrariesWorking with ENSResolving NamesManaging NamesRegistering & Renewing NamesENS Front-End Design GuidelinesENS as NFTENS Layer2 and offchain data supportENS Data guideContract API ReferenceName ProcessingRegistryReverseRegistrarTestRegistrarPublicResolver.eth Permanent RegistrarDNS RegistrarSubgraphContract Developer GuideResolving Names On-chainWriting a ResolverWriting a RegistrarENS Discussion ForumENS Support ChatENS Migration (February 2020)Guide for DApp DevelopersTechnical DescriptionPowered By GitBookWriting a RegistrarA registrar in ENS is simply any contract that owns a name, and allocates subdomains of it according to some set of rules defined in the contract code. A trivial first in first served contract is demonstrated below:contract FIFSRegistrar {    ENS ens;    bytes32 rootNode;​    function FIFSRegistrar(address ensAddr, bytes32 node) {        ens = ENS(ensAddr);        rootNode = node;    }​    function register(bytes32 subnode, address owner) {        var node = sha3(rootNode, subnode);        var currentOwner = ens.owner(node);​        if (currentOwner != 0 && currentOwner != msg.sender) throw;​        ens.setSubnodeOwner(rootNode, subnode, owner);    }}You may wish to set custom rules for the allocation of new names to your users; the rules you set are entirely up to you.You should also bear in mind that as long as you retain ownership of the parent name - either directly or through another contract - your users have no guarantee that you will not take back ownership of their names and change what they resolve to. You may wish to consider committing ownership of the name to a contract that restricts your ability to control it. For an example of this, see ENSNow.Contract Developer Guide - PreviousWriting a ResolverNext - ENS Migration (February 2020)Guide for DApp DevelopersLast modified 1yr agoCopy linkEdit on GitHub



